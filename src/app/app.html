<mat-toolbar color="primary" class="mat-elevation-z6 fixed-toolbar">
  <div class="toolbar-container">
    <!-- Brand -->
    <a mat-button routerLink="/" class="app-brand">
      <mat-icon>extension</mat-icon>
      <span class="fw-bold fs-4 text-gradient">PUZZLE</span>
    </a>

    <span class="toolbar-spacer"></span>

    <!-- Desktop nav -->
    <nav class="desktop-nav">
      <a mat-button routerLink="/cart" routerLinkActive="active-link" matTooltip="Your Bag">
        <mat-icon>shopping_bag</mat-icon>
        <span>Your Bag</span>
      </a>

      <ng-container *ngIf="hasAuth(); else loginLink">
        <a mat-button routerLink="/profile" routerLinkActive="active-link" matTooltip="Profile">
          <mat-icon>account_circle</mat-icon>
          <span>Profile</span>
        </a>
        <button mat-button (click)="logoutNow()" matTooltip="Logout">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </ng-container>

      <ng-template #loginLink>
        <a mat-button routerLink="/login" routerLinkActive="active-link" matTooltip="Login">
          <mat-icon>login</mat-icon>
          <span>Login</span>
        </a>
      </ng-template>
    </nav>

    <!-- Mobile menu button -->
    <button mat-icon-button (click)="sidenav.toggle()" class="mobile-menu-button">
      <mat-icon>menu</mat-icon>
    </button>
  </div>
</mat-toolbar>

<!-- Mobile sidenav -->
<mat-sidenav-container class="mobile-sidenav-container">
  <mat-sidenav #sidenav mode="over" class="mobile-sidenav">
    <mat-nav-list>
      <a mat-list-item routerLink="/cart" routerLinkActive="active-link">
        <mat-icon>shopping_bag</mat-icon>
        <span>Your Bag</span>
      </a>

      <ng-container *ngIf="hasAuth(); else loginMobile">
         <a mat-list-item routerLink="/cart" routerLinkActive="active-link">
        <mat-icon>shopping_bag</mat-icon>
        <span>Your Bag</span>
      </a>
        <a mat-list-item routerLink="/profile" routerLinkActive="active-link">
          <mat-icon>account_circle</mat-icon>
          <span>Profile</span>
        </a>
        <button mat-list-item (click)="logoutNow()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </ng-container>

      <ng-template #loginMobile>
        <a mat-list-item routerLink="/login" routerLinkActive="active-link">
          <mat-icon>login</mat-icon>
          <span>Login</span>
        </a>
      </ng-template>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="main-content-area">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
